[tox]
envlist = py2.7, py3.4

[testenv:py2.7]
basepython=python2.7
deps= -rrequirements.txt
commands=py.test

[testenv:py3.4]
basepython=python3.4
deps=-rrequirements.txt
commands=py.test

[testenv:py2.7-full]
basepython=python2.7
deps=-rrequirements.txt
commands=
  rm -rf coverage2.7 && true
  pip install --upgrade pip
  pip install -r requirements.txt
  py.test --network --cov traxcommon --cov-report html
  mv htmlcov coverage2.7

[testenv:py3.4-full]
basepython=python3.4
deps=-rrequirements.txt
commands=
  rm -rf coverage3.4 && true
  pip install --upgrade pip
  pip install -r requirements.txt
  py.test --network --cov traxcommon --cov-report html
  mv htmlcov coverage3.4
